<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>javascript/date.html</title>
</head>
<body>
    <input type="text" id="inputYear" style="width: 60px; height: 30px;">
    <input type="text" id="inputMonth" style="width: 30px; height: 30px;">
    <button id="month" onclick="calendar()">연도 , 월 입력</button>
    <script>
        let today = new Date() ;
        // // today.setFullYear(2020) ;                                 // 연도, 월, 일을 지정해서 밑에껄로 무슨요일이었는지 찾을 수 있음
        // // today.setDate(1) ;

        // document.write(today.getFullYear() + "<br>") ;
        // document.write(today.getMonth() + 1 + "<br>") ;              // 0부터라서 1 더해줘야 함
        // document.write(today.getDate() + "<br>") ; 
        // document.write(today.getDay() + "<br>") ;                    // 일요일이 0 부터해서 0~6을 출력
        //                                                              // 연도를 2020으로 바꾸면 2020년 오늘은 일요일이라 0 으로 나옴
        // // //말일 구하고 싶으면                                          
        // document.write(lastDate.getDate() + "<br>") ;

        function calendar() {
                    
        let inputYear = document.getElementById("inputYear") ;
        let year = inputYear.value ;
        let inputMonth = document.getElementById("inputMonth") ;
        let month = inputMonth.value ;
        if (!year && !month) {
            alert("연도와 월을 입력하세요") ;
            return ;
        } else if (!year) {
            alert("연도를 입력하세요") ;
            return ;
        } else if (!month) {
            alert("월을 입력하세요") ;
            return
        }

        // 첫날, 마지막날
        let firstDate = new Date(parseInt(year) , parseInt(month)-1 , 0+1) ;
        let lastDate = new Date(parseInt(year) , parseInt(month) , 0) ;
        // 제목
        document.write("<table border=1 style='text-align: center;'>") ;
        document.write("<thead><tr><th colspan='7' style='background-color: greenyellow;'>" + year + "년" + "</th></tr>") ;
        document.write("<tr><td colspan='7' style='background-color: yellow;'>" + month + "월 달력" + "</td></tr>") ;
        // 요일
        let week = ["일" , "월" , "화" , "수" , "목" , "금" , "토"] ;
        document.write("<tr>")
            for (let weekday of week) {
                document.write("<td style='background-color : lightgreen'>" + weekday + "</td>") ;
            }      
        document.write("</tr></thead>")
        // 일
        document.write("<tbody id='body'>")
        document.write("<tr>")
            for (let i = 0 ; i < firstDate.getDay() ; i++) {         // 10월 1일이 금요일이라 그만큼 공백을 넣어줌 / 일요일이 0부터니까 금요일인 5보다 작으면 0~4까지 즉 일~목 까지 공백이 들어감
                document.write("<td></td>")
            }
            for (let i = 1 ; i <= lastDate.getDate() ; i++) {        // 마지막 일까지 일수를 채움
                document.write("<td class='sat'>" + i + "</td>") ;
                if ((firstDate.getDay() + i)%7 == 0) {               // 시작일의 요일숫자 5 랑 시작일부터 시작된 일수랑 더해서 7이되면 줄바꿈. 
                    document.write("<tr></tr>") ;                    // (예) 시작일이 월요일이면 요일숫자가 1이 되고, 월요일부터 1일이 시작되니까 토요일이 되면 일수가 6이 되어서 더하면 7이되니까 줄을 바꿈
                }
            }
                        
        document.write("</tr>")
        document.write("</tbody>")
        document.write("</table>") ;
        
        document.write("<style> .sat:nth-last-child(1){ background-color: skyblue ;} </style>")
        document.write("<style> .sat:nth-child(1){ background-color: orange ;} </style>")
                                                                     // function 때문에 style 이 사라지는거라서 head에 넣지말고 function안에 스타일적용을 같이 넣어주면 function실행 후에도 적용됨
        }

    </script>
</body>
</html>